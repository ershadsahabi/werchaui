/* موبایل‌اول، هماهنگ با variables.css / tokens.css / utilities.css */

/* ===== Root ===== */
.homeRoot {
  display: grid;
  gap: 28px;
  padding-block: 12px 40px;
}

/* ===== HERO ===== */
.hero {
  position: relative;
  display: grid;
  gap: 16px;
}

.heroContent {
  display: grid;
  gap: 12px;
  align-content: start;
  padding-block: 8px 0;
  grid-template-columns: 1fr;
  grid-template-areas:
    "header"
    "title"
    "subtitle"
    "ship"
    "kpis"
    "actions"
    "coupon";
}
.heroHeader { 
  grid-area: header; 
  display:flex; align-items:center; gap: 10px; 
}
.heroTagline { color: var(--text-mute); font-weight:700; font-size:.9rem; }

.badgeHero {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: color-mix(in oklab, var(--accent) 12%, var(--surface));
  border: 1px solid var(--border);
  color: var(--text);
  font-weight: 700;
  width: fit-content;
}

.heroTitle { grid-area: title; }

.heroSubtitle { grid-area: subtitle; }


/* KPI ها */
.heroKpis {
  display: grid;
  grid-area: kpis;
  grid-template-columns: 1fr 1fr;
  gap: 6px 12px;
  list-style: none;
  padding: 0; margin: 0;
  color: var(--text);
}
.heroKpis li { display:flex; align-items:center; gap: 6px; }

/* اکشن‌های هیرو */
.heroActions {
  grid-area: actions;
  display: flex; gap: 10px; flex-wrap: wrap;
}

/* ردیف کوپن، چسبیده به چپ/راست با RTL منظم */
.heroCouponRow {
  grid-area: coupon;
  display: flex; align-items: center; justify-content: start;
}
.heroCoupon {
  display:flex; align-items:center; gap: 10px;
  padding: 10px 12px;
  border-radius: var(--r-lg);
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-xs);
  width: fit-content;
}
.couponCode {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  background: var(--surface-2);
  border: 1px dashed var(--border);
  padding: 4px 8px;
  border-radius: 8px;
  color: var(--text-strong);
}

/* تصویر هیرو */
.heroImageWrap {
  position: relative;
  min-height: 240px; /* برای Image با fill */
  border-radius: var(--radius-lg);
  overflow: hidden;
  border: 1px solid var(--border);
  background: var(--muted);
}
.heroImage {
  object-fit: contain;
  object-position: center;
  filter: saturate(105%);
}

/* ===== سکشن پایه ===== */
.section {
  display: grid;
  gap: 16px;
  padding-block: 8px 0;
}
.sectionHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
}
.sectionTitle {
  font-size: clamp(1.2rem, 2.2vw, 1.6rem);
  font-weight: 800;
  color: var(--text-strong);
}
.badgeSoft {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  background: var(--surface-2);
  border: 1px solid var(--border);
  color: var(--text-weak);
}

/* ===== دسته‌بندی‌ها: نسخه قدیمی (حفظ شده برای سازگاری) ===== */
.catGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 10px;
}
.catCard {
  display: flex;
  flex-direction: column;
}
.catMedia {
  position: relative;
  aspect-ratio: var(--product-img-ratio); /* 4/3 به‌طور پیش‌فرض */
  background: var(--muted);
  border-radius: calc(var(--card-radius) - 6px);
  overflow: hidden;
}
.catImg {
  object-fit: contain;
  object-position: center;
  padding: 10px;
  image-rendering: -webkit-optimize-contrast;
}
.catBody {
  display: grid;
  gap: 6px;
  padding: var(--card-pad);
}
.catTitle {
  font-size: 1rem;
  font-weight: 800;
  color: var(--text);
  line-height: 1.35;
}
.catCta {
  font-size: .9rem;
  color: var(--link);
}

/* ===== دسته‌بندی‌ها: نسخه جدید فانتزی (قاب واحد و جذاب) ===== */
/* گرید */
.catGridFancy {
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: 12px;
}
@media (min-width: 640px){ .catGridFancy { grid-template-columns: repeat(3, minmax(0,1fr)); } }
@media (min-width:1024px){ .catGridFancy { grid-template-columns: repeat(4, minmax(0,1fr)); gap: 14px; } }

/* کارت با تمرکز روی قاب‌ها */
.catFancy {
  position: relative;
  display: grid;
  grid-template-rows: auto 1fr;
  background: var(--surface);
  border-radius: var(--r-xl);
  overflow: hidden;
  /* حاشیهٔ اصلی خیلی خنثی */
  border: 1px solid var(--card-border);
  /* سایهٔ بسیار ملایم برای جدایی از بک‌گراند */
  box-shadow: 0 4px 14px color-mix(in oklab, var(--text) 8%, transparent);
  transition: transform var(--dur-200), box-shadow var(--dur-200), border-color var(--dur-200);
  isolation: isolate;
}
.catFancy:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 26px color-mix(in oklab, var(--text) 12%, transparent);
  border-color: color-mix(in oklab, var(--text) 16%, var(--card-border));
}

/* قاب بیرونی: استروک لطیف با گرادیان خیلی کم‌رنگ (بدون تغییر محسوس رنگ کلی) */
.catFrameOuter {
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background: linear-gradient(
    180deg,
    color-mix(in oklab, var(--text) 8%, transparent),
    transparent 60%
  );
  opacity: .35;
  /* فقط دور کارت دیده شود */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  padding: 1px;
}

/* قاب درونی: خط نازک داخل کارت برای حس عمق */
.catFrameInner {
  position: absolute;
  inset: 6px;
  pointer-events: none;
  border-radius: calc(var(--r-xl) - 6px);
  border: 1px solid color-mix(in oklab, var(--text) 10%, transparent);
  box-shadow:
    0 1px 0 color-mix(in oklab, var(--text) 10%, transparent) inset,
    0 -1px 0 color-mix(in oklab, var(--bg) 8%, transparent) inset;
  opacity: .6;
}

/* مدیا با پس‌زمینهٔ خنثی و کمی بافت نور */
.catFancyMedia {
  position: relative;
  aspect-ratio: var(--product-img-ratio);
  background:
    linear-gradient(180deg, color-mix(in oklab, var(--text) 5%, transparent), transparent),
    var(--muted);
  border-bottom: 1px solid var(--card-border);
}
.catFancyImg {
  object-fit: contain;
  object-position: center;
  padding: 12px;
  image-rendering: -webkit-optimize-contrast;
}

/* نوار بالای کارت — بسیار کم‌رنگ برای هویت بصری */
.catFancyBar {
  position: absolute;
  inset-inline: 0;
  inset-block-start: 0;
  height: 3px;
  opacity: .35;
  background: linear-gradient(
    90deg,
    color-mix(in oklab, var(--primary) 28%, transparent),
    color-mix(in oklab, var(--accent) 18%, transparent)
  );
}

/* بدنه */
.catFancyBody { display: grid; gap: 6px; padding: var(--card-pad); }
.catFancyTitle {
  font-size: 1rem;
  font-weight: 900;
  color: var(--text-strong);
  letter-spacing: -.01em;
}
.catFancyCta {
  font-size: .875rem;
  color: var(--text-weak);
  border: 1px solid color-mix(in oklab, var(--text) 12%, var(--card-border));
  background: color-mix(in oklab, var(--text) 4%, transparent);
  border-radius: var(--r-lg);
  padding: 4px 8px;
  width: fit-content;
  transition: border-color var(--dur-150), background-color var(--dur-150);
}
.catFancy:hover .catFancyCta {
  border-color: color-mix(in oklab, var(--primary) 28%, var(--card-border));
  background: color-mix(in oklab, var(--primary) 10%, transparent);
}


/* ===== Empty (اطلاع موجودی) ===== */
.empty {
  display: grid;
  place-items: center;
  text-align: center;
  gap: 10px;
}
.emptyIcon { font-size: 36px; }
.emptyTitle { font-size: 1.1rem; font-weight: 800; color: var(--text-strong); }
.emptyText { color: var(--text-weak); max-width: 60ch; margin-inline: auto; }
.emptyActions { display: inline-flex; gap: 8px; flex-wrap: wrap; justify-content: center; margin-top: 4px; }

/* ===== CTA Banner (Dark/Light optimized) ===== */
.cta {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  border-radius: var(--radius-lg);
  border: 1px solid var(--glass-border);
  background: var(--surface);
  min-height: clamp(220px, 36vw, 420px);
  box-shadow: var(--shadow);
  transform: translateZ(0);
}

/* Base image */
.ctaImg {
  object-fit: cover;
  object-position: center;
  filter: none;
  transition: transform var(--transition-300), filter var(--transition-300);
  will-change: transform;
}

/* Overlay (dark default) */
.ctaOverlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background:
    radial-gradient(120% 90% at 80% 10%, transparent 0%, rgba(0,0,0,.35) 60%, rgba(0,0,0,.55) 100%),
    radial-gradient(120% 90% at 20% 90%, transparent 0%, rgba(0,0,0,.25) 55%, rgba(0,0,0,.45) 100%),
    linear-gradient(180deg, rgba(0,0,0,.35), transparent 55%),
    linear-gradient(0deg, rgba(0,0,0,.25), transparent 55%);
  opacity: .85;
  mix-blend-mode: screen; /* Dark: نرم و درخشان */
}

/* Decorative border glow */
.cta::after {
  content: "";
  position: absolute; inset: -1px; border-radius: inherit; z-index: 2;
  background:
    linear-gradient(135deg,
      color-mix(in oklab, var(--primary) 24%, transparent),
      transparent 35%,
      color-mix(in oklab, var(--accent) 24%, transparent) 70%,
      transparent
    );
  opacity: .35;
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  padding: 1px;
  pointer-events: none;
}

/* Content */
/* ===== CTA Content — Light Ink (theme-agnostic) ===== */
.cta {
  /* رنگ‌های ثابت روشن برای متن CTA */
  --cta-ink-light: #ffffff;  /* سفید روشن برای تیتر */
  --cta-ink-soft:  #eef6ff;  /* سفید مایل به آبی برای متن */
}

.ctaContent {
  position: relative;
  z-index: 3; /* بالاتر از overlay و پلیت */
  display: grid;
  align-content: end;
  gap: 10px;
  padding: clamp(16px, 4vw, 28px) clamp(16px, 5vw, 36px);
  min-height: inherit;

  /* متن روشنِ ثابت در شب و روز */
  color: var(--cta-ink-soft);

  /* سایه‌ی تیره‌ی ملایم برای خوانایی روی تصویر */
  text-shadow:
    0 1px 2px rgba(0,0,0,.35),
    0 4px 16px rgba(0,0,0,.45);
}

.ctaTitle {
  font-weight: 900;
  color: var(--cta-ink-light);   /* سفید خالص برای تیتر */
  letter-spacing: -.015em;
  font-size: clamp(1.25rem, 2.6vw, 2rem);
  line-height: 1.2;
}

.ctaText {
  font-size: clamp(.95rem, 1.4vw, 1.05rem);
  color: var(--cta-ink-soft);    /* متنِ کمی ملایم‌تر از تیتر */
}

.ctaText strong {
  display: inline-block;
  padding: .25rem .6rem;
  border-radius: var(--radius-sm);

  /* پس‌زمینه‌ی شیشه‌ای تیره‌ی خیلی لطیف برای برجسته شدن کد */
  background: rgba(0,0,0,.32);
  border: 1px solid rgba(255,255,255,.20);

  /* هاله‌ی رنگی مطابق accent ولی خیلی ظریف */
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--accent) 24%, transparent);

  font-weight: 800;
  letter-spacing: .02em;
  color: var(--cta-ink-light);   /* متن روشن داخل strong */
}

/* Hover */
.cta:hover .ctaImg { transform: scale(1.03); filter: saturate(108%) contrast(108%); }
.cta:hover::after { opacity: .5; }

/* Layout */
@media (min-width: 720px) {
  .ctaContent {
    align-content: center;
    justify-items: start; /* RTL: راست */
    padding-block: clamp(28px, 8vw, 56px);
  }
}

/* ===== THEME TUNING ===== */

/* Light: تصویر کمی تیره‌تر برای جداسازی */
html.light .ctaImg {
  filter: brightness(.94) contrast(1.05) saturate(1.06);
}

/* Light: overlay حالت Multiply برای افزایش کنتراست متن */
html.light .ctaOverlay {
  background:
    radial-gradient(120% 90% at 80% 10%, rgba(0,0,0,.25) 0%, rgba(0,0,0,.55) 65%, rgba(0,0,0,.75) 100%),
    radial-gradient(120% 90% at 20% 90%, rgba(0,0,0,.20) 0%, rgba(0,0,0,.50) 60%, rgba(0,0,0,.70) 100%),
    linear-gradient(180deg, rgba(0,0,0,.35), transparent 55%),
    linear-gradient(0deg, rgba(0,0,0,.22), transparent 55%);
  opacity: .88;
  mix-blend-mode: multiply; /* Light: تیره‌سازی نرم تصویر */
}



/* ===== A11y & Motion ===== */
@media (prefers-reduced-motion: reduce) {
  .ctaImg { transition: none; }
  .cta:hover .ctaImg { transform: none; }
}


/* --- Features Grid --- */
.featuresGrid {
  display: grid;
  gap: 12px;
  grid-template-columns: 1fr;
}
@media (min-width: 640px){ .featuresGrid { grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (min-width:1024px){ .featuresGrid { grid-template-columns: repeat(5, minmax(0,1fr)); } }

/* ===== ریسپانسیو ===== */
@media (min-width: 640px) {
  .homeRoot { gap: 36px; }
  .heroImageWrap { min-height: 300px; }
  .catGrid { grid-template-columns: repeat(3, minmax(0,1fr)); gap: 12px; }
  .catGridFancy { grid-template-columns: repeat(3, minmax(0,1fr)); }
}

@media (min-width: 1024px) {
  .hero { grid-template-columns: 1fr 1fr; align-items: center; gap: 24px; }
  .heroImageWrap { min-height: 420px; }
  .heroContent {
    gap: 14px;
    grid-template-columns: 1fr;
  }

  .heroKpis { grid-template-columns: auto auto auto; }  .section { gap: 20px; }

  .catGrid { grid-template-columns: repeat(4, minmax(0,1fr)); gap: 16px; }
  .catMedia { aspect-ratio: 4 / 3; } /* افقی‌تر در دسکتاپ */

  .catGridFancy { grid-template-columns: repeat(4, minmax(0,1fr)); gap: 16px; }
}

/* احترام به کاهش حرکت */
@media (prefers-reduced-motion: reduce) {
  .ctaImg { transition: none; }
  .cta:hover .ctaImg { transform: none; }
}




/* نوار اطلاع‌رسانی ارسال: تاکید بر سنندج + سراسری */
.shipStrip {
  grid-area: ship;
  display: flex; flex-wrap: wrap; align-items: center; gap: 8px 12px;
  padding: 8px 10px;
  border-radius: var(--r-lg);
  background: color-mix(in oklab, var(--primary) 10%, transparent);
  border: 1px solid color-mix(in oklab, var(--primary) 30%, var(--card-border));
  color: var(--text);
}
.shipItem { white-space: nowrap; font-weight: 700; }
.shipSep { opacity: .6; }







/* دسترس‌پذیری و کاهش حرکت */
@media (prefers-reduced-motion: reduce) {
  .shipStrip { transition: none; }
}

/* (اختیاری) اگر btnGlow قبلاً نداری: یک درخشش لطیف */
.btnGlow {
  position: relative;
  box-shadow: 0 0 0 0 color-mix(in oklab, var(--primary) 30%, transparent);
  transition: box-shadow var(--dur-200), transform var(--dur-150);
}
.btnGlow:hover { transform: translateY(-1px); box-shadow: 0 0 0 6px color-mix(in oklab, var(--primary) 14%, transparent); }
.btnGlowDot { margin-inline-start: .25em; font-size: 1.1em; line-height: 1; }